(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{LNf0:function(t,e,s){"use strict";s.r(e);function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function i(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){r(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var o={name:"UserModify",watch:{$page:{handler:function(){this.loading=!1,"success"===this.$page.auth.alert_type&&(this.resetValues(),this.$emit("completeRegistration"))},deep:!0}},props:{permissionSet:{type:Object,default:function(){return{}}},biodataSet:{type:Object,default:function(){return{}}},socialSet:{type:Object,default:function(){return{}}},buttonTitle:{type:String,default:"Create Users"},actionURLPath:String,canResetValues:{type:Boolean,default:!0},userRole:{type:String,default:"super-admin"}},data:function(){return{loading:!1,roles:this.userRole,biodata:i(i({},this.biodataSet),{},{password:"",password_confirmation:""}),social:i({},this.socialSet),avatar:"",permissions:i({},this.permissionSet)}},methods:{selectRole:function(t){this.roles=t},changeAvatar:function(t){this.avatar=t},resetValues:function(){!0===this.canResetValues&&(this.permissions={subjects:!0,topics:!0,questions:!0,collections:!0,users:!1,settings:!1,profile:!1},this.social={facebook_url:"",twitter_url:"",phone_number:""},this.avatar=null,this.roles="admin")},modifyUser:function(){this.loading=!0;var t=new FormData;t.append("avatar",this.avatar),t.append("roles",this.roles);for(var e=0,s=Object.entries(this.biodata);e<s.length;e++){var a=s[e];t.append(a[0],this.biodata[a[0]])}for(var i=0,r=Object.entries(this.social);i<r.length;i++){var o=r[i];t.append(o[0],this.social[o[0]])}for(var n=0,l=Object.entries(this.permissions);n<l.length;n++){var c=l[n];t.append(c[0],this.permissions[c[0]])}this.$inertia.post(this.actionURLPath,t)}}},n=s("KHd+"),l=Object(n.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("form",{attrs:{id:"create-user"},on:{submit:function(e){return e.preventDefault(),t.modifyUser(e)}}}),t._v(" "),s("div",{staticClass:"mb-10 reveal-left",staticStyle:{"--delay":"0.3s"}},[s("h4",{staticClass:"text-sm font-bold mb-4 border border-primaryBg-300 rounded-md inline-block p-2"},[t._v("\n            Biodata\n        ")]),t._v(" "),s("div",{staticClass:"mb-2"},[s("text-input",{attrs:{form:"create-user",error:t.$page.errors.first_name||"",label:"First name"},model:{value:t.biodata.first_name,callback:function(e){t.$set(t.biodata,"first_name",e)},expression:"biodata.first_name"}})],1),t._v(" "),s("div",{staticClass:"mb-2"},[s("text-input",{attrs:{form:"create-user",error:t.$page.errors.last_name||"",label:"Last name"},model:{value:t.biodata.last_name,callback:function(e){t.$set(t.biodata,"last_name",e)},expression:"biodata.last_name"}})],1),t._v(" "),s("div",{staticClass:"mb-2"},[s("text-input",{attrs:{form:"create-user",error:t.$page.errors.email||"",type:"email",label:"Email"},model:{value:t.biodata.email,callback:function(e){t.$set(t.biodata,"email",e)},expression:"biodata.email"}})],1),t._v(" "),s("div",{staticClass:"mb-2"},[s("text-input",{attrs:{type:"password",error:t.$page.errors.password||"",form:"create-user",label:"Password"},model:{value:t.biodata.password,callback:function(e){t.$set(t.biodata,"password",e)},expression:"biodata.password"}})],1),t._v(" "),s("div",{staticClass:"mb-2"},[s("text-input",{attrs:{type:"password",form:"create-user",label:"Confirm Password"},model:{value:t.biodata.password_confirmation,callback:function(e){t.$set(t.biodata,"password_confirmation",e)},expression:"biodata.password_confirmation"}})],1)]),t._v(" "),s("div",{staticClass:"mb-10 reveal-left",staticStyle:{"--delay":"0.5s"}},[s("h4",{staticClass:"text-sm font-bold mb-4 border border-primaryBg-300 rounded-md inline-block p-2"},[t._v("\n            Social\n        ")]),t._v(" "),s("div",{staticClass:"mb-2"},[s("text-input",{attrs:{error:t.$page.errors.facebook_url||"",form:"create-user",label:"Facebook URL"},model:{value:t.social.facebook_url,callback:function(e){t.$set(t.social,"facebook_url",e)},expression:"social.facebook_url"}},[s("span",{staticClass:"italic text-gray-500 text-xs"},[t._v("Optional")])])],1),t._v(" "),s("div",{staticClass:"mb-2"},[s("text-input",{attrs:{error:t.$page.errors.twitter_url||"",form:"create-user",label:"Twitter URL"},model:{value:t.social.twitter_url,callback:function(e){t.$set(t.social,"twitter_url",e)},expression:"social.twitter_url"}},[s("span",{staticClass:"italic text-gray-500 text-xs"},[t._v("Optional")])])],1),t._v(" "),s("div",{staticClass:"mb-2"},[s("text-input",{attrs:{error:t.$page.errors.phone_number||"",type:"number",form:"create-user",label:"Phone Number"},model:{value:t.social.phone_number,callback:function(e){t.$set(t.social,"phone_number",e)},expression:"social.phone_number"}},[s("span",{staticClass:"italic text-gray-500 text-xs"},[t._v("Optional")])])],1)]),t._v(" "),s("div",{staticClass:"mb-10 reveal-left",staticStyle:{"--delay":"0.7s"}},[s("h4",{staticClass:"text-sm font-bold mb-4 border border-primaryBg-300 rounded-md inline-block p-2"},[t._v("\n            Avatar\n        ")]),t._v(" "),s("file-input",{attrs:{form:"create-user",error:t.$page.errors.avatar||"",label:"Image should have a size of 800kb max and should be among the following file type: JPG, PNG"},on:{input:function(e){return t.changeAvatar(e)}}})],1),t._v(" "),s("div",{staticClass:"mb-10 reveal-left"},[s("h4",{staticClass:"text-sm font-bold mb-4 border border-primaryBg-300 rounded-md inline-block p-2"},[t._v("\n            Permissions\n        ")]),t._v(" "),s("div",{staticClass:"mb-4"},[s("checkbox",{attrs:{layout:"widthFull"},model:{value:t.permissions.modify_tickets,callback:function(e){t.$set(t.permissions,"modify_tickets",e)},expression:"permissions.modify_tickets"}},[s("p",{staticClass:"ml-2 text-sm font-bold"},[t._v("Tickets")]),t._v(" "),s("p",{staticClass:"ml-2 text-xs"},[t._v("\n                    Create, delete and update tickets\n                ")])]),t._v(" "),t.$page.errors.modify_tickets?s("p",{staticClass:"text-xs text-red-500"},[t._v("\n                "+t._s(t.$page.errors.modify_tickets)+"\n            ")]):t._e()],1),t._v(" "),s("div",{staticClass:"mb-4"},[s("checkbox",{attrs:{layout:"widthFull"},model:{value:t.permissions.modify_transactions,callback:function(e){t.$set(t.permissions,"modify_transactions",e)},expression:"permissions.modify_transactions"}},[s("p",{staticClass:"ml-2 text-sm font-bold"},[t._v("Transaction")]),t._v(" "),s("p",{staticClass:"ml-2 text-xs"},[t._v("View transactions")])]),t._v(" "),t.$page.errors.modify_transactions?s("p",{staticClass:"text-xs text-red-500"},[t._v("\n                "+t._s(t.$page.errors.modify_transactions)+"\n            ")]):t._e()],1),t._v(" "),s("div",{staticClass:"mb-4"},[s("checkbox",{attrs:{layout:"widthFull"},model:{value:t.permissions.modify_competitions,callback:function(e){t.$set(t.permissions,"modify_competitions",e)},expression:"permissions.modify_competitions"}},[s("p",{staticClass:"ml-2 text-sm font-bold"},[t._v("Competition")]),t._v(" "),s("p",{staticClass:"ml-2 text-xs"},[t._v("\n                    Add, view, delete and update competitions\n                ")])]),t._v(" "),t.$page.errors.modify_competitions?s("p",{staticClass:"text-xs text-red-500"},[t._v("\n                "+t._s(t.$page.errors.modify_competitions)+"\n            ")]):t._e()],1),t._v(" "),s("div",{staticClass:"mb-4"},[s("checkbox",{attrs:{layout:"widthFull"},model:{value:t.permissions.modify_users,callback:function(e){t.$set(t.permissions,"modify_users",e)},expression:"permissions.modify_users"}},[s("p",{staticClass:"ml-2 text-sm font-bold"},[t._v("Users")]),t._v(" "),s("p",{staticClass:"ml-2 text-xs"},[t._v("\n                    Add, view, delete and update users\n                ")])]),t._v(" "),t.$page.errors.modify_users?s("p",{staticClass:"text-xs text-red-500"},[t._v("\n                "+t._s(t.$page.errors.modify_users)+"\n            ")]):t._e()],1),t._v(" "),s("div",{staticClass:"mb-4"},[s("checkbox",{attrs:{layout:"widthFull"},model:{value:t.permissions.modify_settings,callback:function(e){t.$set(t.permissions,"modify_settings",e)},expression:"permissions.modify_settings"}},[s("p",{staticClass:"ml-2 text-sm font-bold"},[t._v("Settings")]),t._v(" "),s("p",{staticClass:"ml-2 text-xs"},[t._v("\n                    Add, view, delete and update settings\n                ")])]),t._v(" "),t.$page.errors.modify_settings?s("p",{staticClass:"text-xs text-red-500"},[t._v("\n                "+t._s(t.$page.errors.modify_settings)+"\n            ")]):t._e()],1)]),t._v(" "),s("div",{staticClass:"mb-10 reveal-left flex justify-end",staticStyle:{"--delay":"1.3s"}},[s("primary-btn",{attrs:{width:"w-full md:w-auto",type:"submit",loading:t.loading,form:"create-user"}},[t._v(t._s(t.buttonTitle))])],1)])}),[],!1,null,null,null);e.default=l.exports}}]);