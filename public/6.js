(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{14:function(t,e){e.__esModule=!0,e.default={body:'<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"/><circle cx="12" cy="5" r="1"/><circle cx="12" cy="19" r="1"/></g>',width:24,height:24}},19:function(t,e){e.__esModule=!0,e.default={body:'<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 4v6h-6"/><path d="M1 20v-6h6"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></g>',width:24,height:24}},22:function(t,e,s){var a=s(87);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};s(2)(a,r);a.locals&&(t.exports=a.locals)},4:function(t,e,s){"use strict";var a=s(6),r=s.n(a),i=s(7),n=s.n(i),o={name:"Layout",components:{Alert:function(){return s.e(40).then(s.bind(null,152))},AlertContainer:function(){return s.e(40).then(s.bind(null,153))}},data:function(){return{icons:{success:r.a,error:n.a},alertList:[],logo_link:"img/dashboard_logo.svg"}},watch:{$page:{handler:function(){this.pushNewAlert()},deep:!0}},methods:{logout:function(){document.querySelector("#logoutForm").submit()},removeAlertSynchronously:function(t){this.alertList.splice(t,1)},removeAlertAsynchronously:function(t){var e=this;setTimeout((function(){e.alertList.splice(t,1)}),3e3)},pushNewAlert:function(){var t=this.alertList;null!==this.$page.auth.alert_type&&(t.push({type:this.$page.auth.alert_type,color:"success"===this.$page.auth.alert_type?"green":"red",message:this.$page.auth.alert_message,heading:this.$page.auth.alert_heading}),this.alertList=t)}}},l=(s(86),s(0)),c=Object(l.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("alert-container",t._l(t.alertList,(function(e,a){return s("alert",{key:a,attrs:{color:e.color||"green",heading:e.heading||"",message:e.message||""},on:{closeAlert:function(e){return t.removeAlertSynchronously(a)}}},[t._v("\n            "+t._s(t.removeAlertAsynchronously(a))+"\n            "),"success"===e.type?s("iconify-icon",{attrs:{icon:t.icons.success}}):s("iconify-icon",{attrs:{icon:t.icons.error}})],1)})),1),t._v(" "),s("header",{staticClass:" bg-primary-500 pt-3 pb-24"},[s("div",{staticClass:"xl:w-9/12 w-11/12 mx-auto"},[s("div",{staticClass:"flex justify-between items-center py-4"},[s("div",{staticClass:"w-20 flex items-center"},[s("img",{staticClass:"w-10",attrs:{src:""+t.$page.auth.settings.dashboard_logo,alt:t.$page.auth.settings.app_name+" logo"}}),t._v(" "),s("p",{staticClass:"text-white ml-3 capitalize"},[t._v(t._s(t.$page.auth.settings.app_name))])]),t._v(" "),s("div",{staticClass:"flex items-center justify-end"},[s("div",{staticClass:"mr-3"},[s("a",{staticClass:"text-white",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[t._v("Logout")]),t._v(" "),s("form",{attrs:{method:"POST",action:t.$route.url("logout"),hidden:"",id:"logoutForm"}},[s("input",{attrs:{type:"hidden",name:"_token"},domProps:{value:t.$page.auth.csrf_token}})])]),t._v(" "),s("p",{staticClass:"text-white"},[t._v("\n                        Profile\n                    ")])])]),t._v(" "),s("nav",{staticClass:"w-full"},[s("ul",{staticClass:"list-none m-0 p-0 flex overflow-x-auto items-center py-4"},[s("li",{staticClass:"inline-block reveal-up",style:{"--delay":"0.1s"}},[s("inertia-link",{staticClass:"nav-link",class:{active:t.$route.isCurrent("admin.dashboard")},attrs:{href:t.$route.relativePath("admin.dashboard")}},[t._v("Dashboard")])],1),t._v(" "),s("li",{staticClass:"inline-block reveal-up",style:{"--delay":"0.6s"}},[s("inertia-link",{staticClass:"nav-link",class:{active:t.$route.isCurrent("settings.view")},attrs:{href:t.$route.relativePath("settings.view")}},[t._v("Settings")])],1),t._v(" "),s("li",{staticClass:"inline-block reveal-up",style:{"--delay":"0.6s"}},[s("inertia-link",{staticClass:"nav-link",class:{active:t.$route.isCurrent("users.view")},attrs:{href:t.$route.relativePath("users.view")}},[t._v("Users")])],1)])])])]),t._v(" "),s("main",{staticStyle:{"margin-top":"-5rem"}},[s("div",{staticClass:"xl:w-9/12 w-11/12 mx-auto pb-20"},[t._t("default")],2)])],1)}),[],!1,null,"4e0a2bec",null);e.a=c.exports},48:function(t,e){e.__esModule=!0,e.default={body:'<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></g>',width:24,height:24}},6:function(t,e){e.__esModule=!0,e.default={body:'<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6L9 17l-5-5"/></g>',width:24,height:24}},63:function(t,e,s){"use strict";s.r(e);var a=s(4),r=s(14),i=s.n(r),n=s(48),o=s.n(n),l=s(19),c=s.n(l),u={name:"ViewUsers",layout:a.a,components:{Modal:function(){return s.e(44).then(s.bind(null,98))},UserList:function(){return s.e(44).then(s.bind(null,150))},CreateUser:function(){return s.e(44).then(s.bind(null,45))}},data:function(){return{modalIsOpen:!1,icons:{moreVertical:i.a,trash:o.a,refresh:c.a},searchText:""}},computed:{getUsers:function(){return this.$page.user.data?this.$page.user.data:[]},nextLink:function(){return this.$page.user.next_page_url||null},previousLink:function(){return this.$page.user.prev_page_url||null},currentPageNumber:function(){return this.$page.user.current_page||1}},methods:{paginate:function(t){this.$inertia.visit(this.$route.relativePath("users.view"),{method:"get",data:{search:this.searchText,page:t}})},openModal:function(){this.modalIsOpen=!0},refreshState:function(){this.modalIsOpen=!1},removeUser:function(t){!0===confirm("Are you sure you want to send this user to the recycle bin ?")&&this.$inertia.post(this.$route.relativePath("users.remove",t))},deactivateUser:function(t){!0===confirm("Are you sure you want to deactivate the user ?")&&this.$inertia.post(this.$route.relativePath("users.deactivate",t))},activateUser:function(t){console.log(t),!0===confirm("Are you sure you want to activate the user ?")&&this.$inertia.post(this.$route.relativePath("users.activate",t))},searchUsers:function(){this.$inertia.visit(this.$route.relativePath("users.view"),{method:"get",data:{search:this.searchText,page:this.currentPageNumber}})}},mounted:function(){}},d=s(0),h=Object(d.a)(u,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("modal",{attrs:{isOpen:t.modalIsOpen},on:{"update:isOpen":function(e){t.modalIsOpen=e},"update:is-open":function(e){t.modalIsOpen=e}}},[s("div",{staticClass:"mb-10 reveal-left",staticStyle:{"--delay":"0.1s"}},[s("h3",{staticClass:"text-lg font-extrabold"},[t._v("Create New Users")]),t._v(" "),s("p",{staticClass:"text-sm"},[t._v("\n                Create user biodata, avatar, password and permissions\n            ")])]),t._v(" "),s("create-user",{attrs:{competitionYears:t.$page.competition},on:{completeRegistration:t.refreshState}})],1),t._v(" "),s("section",{staticClass:"mb-10"},[s("title-board",{attrs:{boardTitle:"Users",boardText:"Add, delete and manage users and user persmissions",hostName:t.$page.auth.settings.app_url,boardImgLink:"img/board_img/user.svg"}})],1),t._v(" "),s("section",{staticClass:"rounded-md bg-white flex flex-col md:flex-row md:justify-between items-center shadow-sm p-8 md:p-12 reveal-up mb-10"},[t._m(0),t._v(" "),s("div",{staticClass:"w-full md:w-auto mt-3 md:mt-0 border"},[s("primary-btn",{attrs:{width:"w-full md:w-auto"},on:{click:t.openModal}},[t._v("Create New User")])],1)]),t._v(" "),s("section",{staticClass:"rounded-md bg-white shadow-sm px-2 py-8 md:p-12 reveal-up",staticStyle:{"--delay":"0.5s"}},[s("div",{staticClass:"mb-5 flex items-center mx-2"},[s("form",{attrs:{action:"",id:"user_search"},on:{submit:function(e){return e.preventDefault(),t.searchUsers(e)}}}),t._v(" "),s("div",{staticClass:"flex-grow mr-2"},[s("text-input",{attrs:{type:"search",form:"user_search"},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}})],1),t._v(" "),s("secondary-btn",{attrs:{type:"submit",form:"user_search"}},[t._v("\n                Search\n            ")]),t._v(" "),s("dropdown",[s("secondary-btn",{attrs:{extraClass:"ml-2",color:"gray"}},[s("iconify-icon",{attrs:{icon:t.icons.moreVertical}})],1),t._v(" "),s("template",{slot:"box"},[s("div",{staticClass:"inline-flex flex-col items-start"},[s("inertia-link",{staticClass:"mb-2 text-xs flex items-center text-gray-500 hover:text-gray-700",attrs:{href:t.$route.relativePath("users.recycle")}},[s("iconify-icon",{attrs:{icon:t.icons.trash}}),t._v(" "),s("p",{staticClass:"ml-2"},[t._v("Recycle Bin")])],1),t._v(" "),s("div",[s("inertia-link",{staticClass:"mb-2 text-xs flex items-center text-gray-500 hover:text-gray-700",attrs:{href:t.$route.relativePath("users.view")}},[s("iconify-icon",{attrs:{icon:t.icons.refresh}}),t._v(" "),s("p",{staticClass:"ml-2"},[t._v("Refresh List")])],1)],1)],1)])],2)],1),t._v(" "),t.getUsers.length>0?[s("div",{staticClass:"flex flex-wrap justify-center mb-5"},t._l(t.getUsers,(function(e,a){return s("user-list",{key:a,attrs:{delay:a,is_active:1==e.is_active,firstName:e.first_name,lastName:e.last_name,email:e.email,viewLink:t.$route.relativePath("users.show",e.id||0),imageLink:e.avatar||""},on:{removeUser:function(s){return t.removeUser(e.id)},deactivateUser:function(s){return t.deactivateUser(e.id)},activateUser:function(s){return t.activateUser(e.id)}}})})),1),t._v(" "),s("div",{staticClass:"flex items-center justify-end"},[null!==t.previousLink?s("secondary-btn",{attrs:{extraClass:"mr-2"},on:{click:function(e){return t.paginate(t.currentPageNumber-1)}}},[t._v("Previous")]):t._e(),t._v(" "),null!==t.nextLink?s("secondary-btn",{on:{click:function(e){return t.paginate(t.currentPageNumber+1)}}},[t._v("Next\n                ")]):t._e()],1)]:[s("div",{staticClass:"p-5 text-center"},[s("h4",{staticClass:"text-lg font-extrabold mb-5"},[t._v("No user found")]),t._v(" "),s("inertia-link",{staticClass:"text-sm text-primary-400 hover:text-primary-600",attrs:{href:t.$route.relativePath("users.view")}},[t._v("Reload list")])],1)]],2)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"w-auto inline-block"},[e("h3",{staticClass:"text-lg font-extrabold"},[this._v("New User")]),this._v(" "),e("p",{staticClass:"text-sm"},[this._v("\n                Create new users and grant them permissions\n            ")])])}],!1,null,null,null);e.default=h.exports},7:function(t,e){e.__esModule=!0,e.default={body:'<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6L6 18"/><path d="M6 6l12 12"/></g>',width:24,height:24}},86:function(t,e,s){"use strict";s(22)},87:function(t,e,s){(t.exports=s(1)(!1)).push([t.i,".nav-link[data-v-4e0a2bec]{color:var(--primary-100);font-size:.875rem;display:inline-block;padding:.5rem;border-radius:.375rem;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.nav-link.active[data-v-4e0a2bec],.nav-link[data-v-4e0a2bec]:focus,.nav-link[data-v-4e0a2bec]:hover{color:#fff;background-color:var(--primary-600)}",""])}}]);