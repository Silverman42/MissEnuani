(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{45:function(t,e,s){"use strict";s.r(e);var a={name:"CreateUser",watch:{$page:{handler:function(){this.loading=!1,"success"===this.$page.auth.alert_type&&(this.resetValues(),this.$emit("completeRegistration"))},deep:!0}},data:function(){return{loading:!1,roles:"admin",requestRoute:"users.admin.create",biodata:{first_name:"",last_name:"",email:"",password:"",password_confirmation:"",youtube_link:""},social:{facebook_url:"",twitter_url:"",phone_number:""},avatar:"",competition:{competition_id:1,position:0},permissions:{modify_tickets:!0,modify_transactions:!0,modify_competitions:!0,modify_users:!0,modify_settings:!1}}},mounted:function(){},methods:{selectRole:function(t){console.log(t),this.roles=t,this.requestRoute="admin"===t?"users.admin.create":"users.contestant.create"},changeAvatar:function(t){this.avatar=t},resetValues:function(){this.permissions={modify_tickets:!0,modify_transactions:!0,modify_competitions:!0,modify_users:!0,modify_settings:!1},this.social={facebook_url:"",twitter_url:"",phone_number:""},this.avatar=null,this.roles="admin"},createUser:function(){this.loading=!0;var t=new FormData;if(t.append("avatar",this.avatar),t.append("roles",this.roles),"client"===this.roles)for(var e=0,s=Object.entries(this.competition);e<s.length;e++){var a=s[e];t.append(a[0],this.competition[a[0]])}for(var i=0,o=Object.entries(this.biodata);i<o.length;i++){var r=o[i];t.append(r[0],this.biodata[r[0]])}for(var n=0,l=Object.entries(this.social);n<l.length;n++){var c=l[n];t.append(c[0],this.social[c[0]])}for(var m=0,d=Object.entries(this.permissions);m<d.length;m++){var p=d[m];t.append(p[0],this.permissions[p[0]])}this.$inertia.post(this.$route.relativePath(this.requestRoute),t)}}},i=s(0),o=Object(i.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("form",{attrs:{id:"create-user"},on:{submit:function(e){return e.preventDefault(),t.createUser(e)}}}),t._v(" "),s("div",{staticClass:"mb-10 reveal-left",staticStyle:{"--delay":"0.3s"}},[s("h4",{staticClass:"text-sm font-bold mb-4 border border-primaryBg-300 rounded-md inline-block p-2"},[t._v("\n            Roles\n        ")]),t._v(" "),s("div",{staticClass:"flex items-center flex-wrap"},[s("radio-input",{attrs:{value:"admin",defaultValue:t.roles,name:"roles",title:"Admin"},on:{input:function(e){return t.selectRole(e)}}}),t._v(" "),s("radio-input",{attrs:{value:"client",defaultValue:t.roles,name:"roles",title:"Contestant"},on:{input:function(e){return t.selectRole(e)}}})],1),t._v(" "),t.$page.errors.roles?s("p",{staticClass:"text-xs text-red-500"},[t._v("\n            "+t._s(t.$page.errors.roles)+"\n        ")]):t._e()]),t._v(" "),s("div",{staticClass:"mb-10 reveal-left",staticStyle:{"--delay":"0.5s"}},[s("h4",{staticClass:"text-sm font-bold mb-4 border border-primaryBg-300 rounded-md inline-block p-2"},[t._v("\n            Biodata\n        ")]),t._v(" "),s("div",{staticClass:"mb-2"},[s("text-input",{attrs:{form:"create-user",error:t.$page.errors.first_name||"",label:"First name"},model:{value:t.biodata.first_name,callback:function(e){t.$set(t.biodata,"first_name",e)},expression:"biodata.first_name"}})],1),t._v(" "),s("div",{staticClass:"mb-2"},[s("text-input",{attrs:{form:"create-user",error:t.$page.errors.last_name||"",label:"Last name"},model:{value:t.biodata.last_name,callback:function(e){t.$set(t.biodata,"last_name",e)},expression:"biodata.last_name"}})],1),t._v(" "),s("div",{staticClass:"mb-2"},[s("text-input",{attrs:{form:"create-user",error:t.$page.errors.email||"",type:"email",label:"Email"},model:{value:t.biodata.email,callback:function(e){t.$set(t.biodata,"email",e)},expression:"biodata.email"}})],1),t._v(" "),s("div",{staticClass:"mb-2"},[s("text-input",{attrs:{type:"password",error:t.$page.errors.password||"",form:"create-user",label:"Password"},model:{value:t.biodata.password,callback:function(e){t.$set(t.biodata,"password",e)},expression:"biodata.password"}})],1),t._v(" "),s("div",{staticClass:"mb-2"},[s("text-input",{attrs:{type:"password",form:"create-user",label:"Confirm Password"},model:{value:t.biodata.password_confirmation,callback:function(e){t.$set(t.biodata,"password_confirmation",e)},expression:"biodata.password_confirmation"}})],1),t._v(" "),"client"===t.roles?s("div",{staticClass:"mb-2"},[s("text-input",{attrs:{type:"number",error:t.$page.errors.position||"",form:"create-user",label:"Contestant position"},model:{value:t.competition.position,callback:function(e){t.$set(t.competition,"position",e)},expression:"competition.position"}})],1):t._e(),t._v(" "),"client"===t.roles?s("div",{staticClass:"mb-2"},[s("select-input",{attrs:{value:t.competition.competition_id,form:"create-user",label:"Competition year",error:t.$page.errors.competition_id||""},model:{value:t.competition.competition_id,callback:function(e){t.$set(t.competition,"competition_id",e)},expression:"competition.competition_id"}},[s("option",{attrs:{value:""}},[t._v("Select year")]),t._v(" "),t._l(t.$page.competitions,(function(e,a){return s("option",{key:a,domProps:{value:e.id}},[t._v("\n                    "+t._s(e.year)+"\n                ")])}))],2)],1):t._e(),t._v(" "),"client"===t.roles?s("div",{staticClass:"mb-2"},[s("text-input",{attrs:{type:"text",error:t.$page.errors.youtube_link||"",form:"create-user",label:"Link to Youtube profile video"},model:{value:t.biodata.youtube_link,callback:function(e){t.$set(t.biodata,"youtube_link",e)},expression:"biodata.youtube_link"}})],1):t._e()]),t._v(" "),s("div",{staticClass:"mb-10 reveal-left",staticStyle:{"--delay":"0.7s"}},[s("h4",{staticClass:"text-sm font-bold mb-4 border border-primaryBg-300 rounded-md inline-block p-2"},[t._v("\n            Social\n        ")]),t._v(" "),s("div",{staticClass:"mb-2"},[s("text-input",{attrs:{error:t.$page.errors.facebook_url||"",form:"create-user",label:"Facebook URL"},model:{value:t.social.facebook_url,callback:function(e){t.$set(t.social,"facebook_url",e)},expression:"social.facebook_url"}},[s("span",{staticClass:"italic text-gray-500 text-xs"},[t._v("Optional")])])],1),t._v(" "),s("div",{staticClass:"mb-2"},[s("text-input",{attrs:{error:t.$page.errors.twitter_url||"",form:"create-user",label:"Twitter URL"},model:{value:t.social.twitter_url,callback:function(e){t.$set(t.social,"twitter_url",e)},expression:"social.twitter_url"}},[s("span",{staticClass:"italic text-gray-500 text-xs"},[t._v("Optional")])])],1),t._v(" "),s("div",{staticClass:"mb-2"},[s("text-input",{attrs:{error:t.$page.errors.phone_number||"",type:"number",form:"create-user",label:"Phone Number"},model:{value:t.social.phone_number,callback:function(e){t.$set(t.social,"phone_number",e)},expression:"social.phone_number"}},[s("span",{staticClass:"italic text-gray-500 text-xs"},[t._v("Optional")])])],1)]),t._v(" "),s("div",{staticClass:"mb-10 reveal-left",staticStyle:{"--delay":"0.9s"}},[s("h4",{staticClass:"text-sm font-bold mb-4 border border-primaryBg-300 rounded-md inline-block p-2"},[t._v("\n            Avatars\n        ")]),t._v(" "),s("file-input",{attrs:{form:"create-user",error:t.$page.errors.avatar||"",label:"Image should have a size of 800kb max and should be among the following file type: JPG, PNG"},on:{input:function(e){return t.changeAvatar(e)}}})],1),t._v(" "),"admin"===t.roles?s("div",{staticClass:"mb-10 reveal-left"},[s("h4",{staticClass:"text-sm font-bold mb-4 border border-primaryBg-300 rounded-md inline-block p-2"},[t._v("\n            Permissions\n        ")]),t._v(" "),s("div",{staticClass:"mb-4"},[s("checkbox",{attrs:{layout:"widthFull"},model:{value:t.permissions.modify_tickets,callback:function(e){t.$set(t.permissions,"modify_tickets",e)},expression:"permissions.modify_tickets"}},[s("p",{staticClass:"ml-2 text-sm font-bold"},[t._v("Tickets")]),t._v(" "),s("p",{staticClass:"ml-2 text-xs"},[t._v("\n                    Create, delete and update tickets\n                ")])]),t._v(" "),t.$page.errors.modify_tickets?s("p",{staticClass:"text-xs text-red-500"},[t._v("\n                "+t._s(t.$page.errors.modify_tickets)+"\n            ")]):t._e()],1),t._v(" "),s("div",{staticClass:"mb-4"},[s("checkbox",{attrs:{layout:"widthFull"},model:{value:t.permissions.modify_transactions,callback:function(e){t.$set(t.permissions,"modify_transactions",e)},expression:"permissions.modify_transactions"}},[s("p",{staticClass:"ml-2 text-sm font-bold"},[t._v("Transaction")]),t._v(" "),s("p",{staticClass:"ml-2 text-xs"},[t._v("View transactions")])]),t._v(" "),t.$page.errors.modify_transactions?s("p",{staticClass:"text-xs text-red-500"},[t._v("\n                "+t._s(t.$page.errors.modify_transactions)+"\n            ")]):t._e()],1),t._v(" "),s("div",{staticClass:"mb-4"},[s("checkbox",{attrs:{layout:"widthFull"},model:{value:t.permissions.modify_competitions,callback:function(e){t.$set(t.permissions,"modify_competitions",e)},expression:"permissions.modify_competitions"}},[s("p",{staticClass:"ml-2 text-sm font-bold"},[t._v("Competition")]),t._v(" "),s("p",{staticClass:"ml-2 text-xs"},[t._v("\n                    Add, view, delete and update competitions\n                ")])]),t._v(" "),t.$page.errors.modify_competitions?s("p",{staticClass:"text-xs text-red-500"},[t._v("\n                "+t._s(t.$page.errors.modify_competitions)+"\n            ")]):t._e()],1),t._v(" "),s("div",{staticClass:"mb-4"},[s("checkbox",{attrs:{layout:"widthFull"},model:{value:t.permissions.modify_users,callback:function(e){t.$set(t.permissions,"modify_users",e)},expression:"permissions.modify_users"}},[s("p",{staticClass:"ml-2 text-sm font-bold"},[t._v("Users")]),t._v(" "),s("p",{staticClass:"ml-2 text-xs"},[t._v("\n                    Add, view, delete and update users\n                ")])]),t._v(" "),t.$page.errors.modify_users?s("p",{staticClass:"text-xs text-red-500"},[t._v("\n                "+t._s(t.$page.errors.modify_users)+"\n            ")]):t._e()],1),t._v(" "),s("div",{staticClass:"mb-4"},[s("checkbox",{attrs:{layout:"widthFull"},model:{value:t.permissions.modify_settings,callback:function(e){t.$set(t.permissions,"modify_settings",e)},expression:"permissions.modify_settings"}},[s("p",{staticClass:"ml-2 text-sm font-bold"},[t._v("Settings")]),t._v(" "),s("p",{staticClass:"ml-2 text-xs"},[t._v("\n                    Add, view, delete and update settings\n                ")])]),t._v(" "),t.$page.errors.modify_settings?s("p",{staticClass:"text-xs text-red-500"},[t._v("\n                "+t._s(t.$page.errors.modify_settings)+"\n            ")]):t._e()],1)]):t._e(),t._v(" "),s("div",{staticClass:"mb-10 reveal-left",staticStyle:{"--delay":"1.3s"}},[s("primary-btn",{attrs:{width:"w-full",type:"submit",loading:t.loading,form:"create-user"}},[t._v("Create User")])],1)])}),[],!1,null,null,null);e.default=o.exports}}]);